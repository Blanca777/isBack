# 对重排和重绘的理解。

- **重排**：当DOM的变化引发了元素几何属性的变化，比如改变元素的**宽高**，元素的位置，导致浏览器不得不重新计算元素的几何属性，并重新构建渲染树，这个过程称为“重排”。
- **重绘**：完成重排后，要将重新构建的渲染树渲染到屏幕上，这个过程就是“重绘”。（背景颜色。。）

## 重排何时发生？

- 添加或删除可见DOM元素
- 元素位置改变
- 元素尺寸改变（外边距，内边距，边框高度，宽高等）
- 内容改变
- 页面渲染器初始化
- 浏览器窗口尺寸改变

## 渲染树变化的排队与刷新

由于每次重排都会产生计算消耗，大多数浏览器通过队列化修改并批量执行来优化重排过程，然而你也可能会（经常不知不觉）强制刷新队列并要求计划任务立即执行，如获取布局信息的操作会导致队列刷新

- offsetTop，offsetLeft，offsetWidth，offsetHeight
- scrollTop，scrollLeft，scrollWidth，scrollHeight
- clientTop，clientLeft，clientWidth，clientHeight
- getComputedStyle() （currentStyle in IE）



以上属性和方法需要返回最新的布局信息，因此浏览器不得不执行渲染队列中的’待处理变化‘并触发重排以返回正确的值。

在修改样式的过程中，最好避免使用上面列出的属性，它们都会刷新渲染队列